{"ast":null,"code":"var _s = $RefreshSig$();\nimport { collection, getDocs, getFirestore, query, where } from \"firebase/firestore\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\nimport { db } from \"../firebase/firebase\";\nimport RecentChart from \"../RecentChart\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../auth/AuthContext\";\nasync function QueryFunction() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  if (!user) return [];\n  const userUid = user.uid;\n  let data = [];\n\n  // Create a query that filters documents where the \"chart\" field equals the user's UID\n  const q = query(collection(db, \"ChartDB\"), where(\"userID\", \"==\", userUid));\n  try {\n    const querySnapshot = await getDocs(q);\n    querySnapshot.forEach(doc => {\n      const docData = {\n        id: doc.id,\n        data: doc.data()\n      };\n      data.push(docData);\n    });\n  } catch (error) {\n    // Handle the Firebase error here\n    // You can display a popup modal or log the error for debugging\n    console.error(\"Firebase Error:\", error);\n\n    // Display a popup modal (you can replace this with your modal logic)\n    // Example using window.alert:\n    window.alert(\"Firebase Error: Missing or insufficient permissions\");\n  }\n  return data;\n}\n_s(QueryFunction, \"y3FQDew7UyrSqYkvQcTdCsLbAB8=\");\n_c = QueryFunction;\nexport default QueryFunction;\nvar _c;\n$RefreshReg$(_c, \"QueryFunction\");","map":{"version":3,"names":["collection","getDocs","getFirestore","query","where","useCollection","db","RecentChart","useContext","AuthContext","QueryFunction","_s","user","userUid","uid","data","q","querySnapshot","forEach","doc","docData","id","push","error","console","window","alert","_c","$RefreshReg$"],"sources":["C:/Users/ayden/OneDrive/Desktop/personal/DPR/Stack/dynamic-range-solver/dynamic-range-solver/src/firestore/QueryFunction.jsx"],"sourcesContent":["import {\r\n  collection,\r\n  getDocs,\r\n  getFirestore,\r\n  query,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport RecentChart from \"../RecentChart\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../auth/AuthContext\";\r\n\r\nasync function QueryFunction() {\r\n  const { user } = useContext(AuthContext);\r\n  if (!user) return [];\r\n\r\n  const userUid = user.uid;\r\n\r\n  let data = [];\r\n\r\n  // Create a query that filters documents where the \"chart\" field equals the user's UID\r\n  const q = query(collection(db, \"ChartDB\"), where(\"userID\", \"==\", userUid));\r\n\r\n  try {\r\n    const querySnapshot = await getDocs(q);\r\n    querySnapshot.forEach((doc) => {\r\n      const docData = {\r\n        id: doc.id,\r\n        data: doc.data(),\r\n      };\r\n      data.push(docData);\r\n    });\r\n  } catch (error) {\r\n    // Handle the Firebase error here\r\n    // You can display a popup modal or log the error for debugging\r\n    console.error(\"Firebase Error:\", error);\r\n\r\n    // Display a popup modal (you can replace this with your modal logic)\r\n    // Example using window.alert:\r\n    window.alert(\"Firebase Error: Missing or insufficient permissions\");\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport default QueryFunction;\r\n"],"mappings":";AAAA,SACEA,UAAU,EACVC,OAAO,EACPC,YAAY,EACZC,KAAK,EACLC,KAAK,QACA,oBAAoB;AAC3B,SAASC,aAAa,QAAQ,gCAAgC;AAC9D,SAASC,EAAE,QAAQ,sBAAsB;AACzC,OAAOC,WAAW,MAAM,gBAAgB;AACxC,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,qBAAqB;AAEjD,eAAeC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM;IAAEC;EAAK,CAAC,GAAGJ,UAAU,CAACC,WAAW,CAAC;EACxC,IAAI,CAACG,IAAI,EAAE,OAAO,EAAE;EAEpB,MAAMC,OAAO,GAAGD,IAAI,CAACE,GAAG;EAExB,IAAIC,IAAI,GAAG,EAAE;;EAEb;EACA,MAAMC,CAAC,GAAGb,KAAK,CAACH,UAAU,CAACM,EAAE,EAAE,SAAS,CAAC,EAAEF,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAES,OAAO,CAAC,CAAC;EAE1E,IAAI;IACF,MAAMI,aAAa,GAAG,MAAMhB,OAAO,CAACe,CAAC,CAAC;IACtCC,aAAa,CAACC,OAAO,CAAEC,GAAG,IAAK;MAC7B,MAAMC,OAAO,GAAG;QACdC,EAAE,EAAEF,GAAG,CAACE,EAAE;QACVN,IAAI,EAAEI,GAAG,CAACJ,IAAI,CAAC;MACjB,CAAC;MACDA,IAAI,CAACO,IAAI,CAACF,OAAO,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;IACA;IACAC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;;IAEvC;IACA;IACAE,MAAM,CAACC,KAAK,CAAC,qDAAqD,CAAC;EACrE;EAEA,OAAOX,IAAI;AACb;AAACJ,EAAA,CA/BcD,aAAa;AAAAiB,EAAA,GAAbjB,aAAa;AAiC5B,eAAeA,aAAa;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}